**NAT**(network address transfer)是一种将私网地址转化为公网地址的技术，用于缓解IPv4地址不足的现象。

现代路由器大多都支持NAT技术。

一台位于私网中的主机是无法直接访问公网资源的，因为**<u>私网IP地址不可出现在公网中</u>**，路由器会为主机生成一个临时公网IP代替该主机进行访问公网资源。

处于公网的服务器收到请求后将响应报文发送至路由器，路由器收到相应报文后需要转发给提出访问请求的主机，此时又需要将临时公网IP转化为私有IP，二者映射关系已经被保存在一张**<u>NAT转化表</u>**中，直接查表即可获得私有IP地址。

为了尽可能的节约公网IP，NAT不仅为私有IP生成一个对应的公网IP，还生成了一个端口号，**<u>这里的端口与传输层的端口完全没有关系</u>**。使得一个子网中的主机可以享用同一个公网IP，**<u>路由器通过端口号区分它们</u>**。

<img src="https://chx-typora.oss-cn-hangzhou.aliyuncs.com/typora/image-20250311213417073.png" alt="image-20250311213417073" style="zoom:33%;" />