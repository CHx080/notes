> 单例模式：全局唯一的对象

**UML:**

![image-20250129152109584](https://chx-typora.oss-cn-hangzhou.aliyuncs.com/typora/image-20250129152109584.png)

**懒汉单例**：程序启动即初始化

```c++
class Single{
private:
    Single(){}   //构造函数私有化，使外部无法实例化
public:
    static Single* getInstance(){
		return self;
    }

    Single(const Single&)=delete;
    const Single& operator=(const Single&)=delete;
    
private:
    static Single* self;
};
Single* Single::self=new Single;
```

-------

**饿汉单例**：用时初始化

```c++
class Single{
private:
    Single(){}
public:
    static Single* getInstance(){
        static Single* self=new Single;
        return self;
        //C++11后static对象实例化线程安全
    }
    Single(const Single&)=delete;
    const Single& operator=(const Single&)=delete;
};
```



**优点：**仅存在一份实例，不会多次构造和销毁对象，减少内存开销

**缺点：**单例对象没有虚接口函数，难以扩展